const translations = {
  tr: {
    brandSubline: "İstanbul 1923",
    navHome: "Ana Sayfa",
    navMenu: "Lezzetler",
    navStory: "Hikaye",
    navReviews: "Yorumlar",
    navContact: "İletişim",
    ctaCall: "Hemen Ara",
    languageTitle: "DİL",
    heroKicker: "KADIKÖY, İSTANBUL",
    heroTitle: "103 Yıllık Lezzet Mirası, Bugünün En İkonik Tatlıları",
    heroLead:
      "Baylan, imza tatlılarıyla klasik pastane kültürünü modern sunumla birleştirir. Kup Griye'den özel çikolatalara kadar her lokmada gelenek ve ustalık var.",
    chipRating: "4.2 puan · 4.450+ yorum",
    chipSince: "İstanbul'da 1923'ten beri",
    chipService: "Paket servis + yerinde deneyim",
    ctaMenu: "İmza Lezzetleri Gör",
    ctaDirections: "Yol Tarifi & İletişim",
    statOne: "Kuruluş",
    statTwo: "Google Puanı",
    statThree: "Kapanış Saati",
    heroImageLabel: "İmza Tatlı",
    menuKicker: "ÖNE ÇIKANLAR",
    menuTitle: "Baylan İmza Seçkisi",
    menuLead:
      "Yüksek dönüşüm odaklı menü akışı için en çok tercih edilen ürünleri öne çıkarıyoruz.",
    itemOneDesc: "Karamel, dondurma, krokan ve kremanın Baylan klasiği.",
    itemTwoName: "Trüf Pasta",
    itemTwoDesc: "Yoğun çikolata katmanları ve yumuşak krema dengesi.",
    itemThreeDesc: "Meyve ve fıstık parçalarıyla çok katmanlı nostaljik tat.",
    itemFourDesc: "Günlük taze üretim, premium kremalı renkli seçkiler.",
    storyKicker: "MARKA HİKAYESİ",
    storyTitle: "Kadıköy'ün Zamansız Pastanesi",
    storyLead:
      "Baylan, klasik pastane kültürünü modern tatlı sunumuyla birleştiren, İstanbul gastronomisinin en güçlü simgelerinden biridir.",
    storyPointOne: "Tarihi kimlik: İstanbul 1923 imzası",
    storyPointTwo: "Özel reçeteler: Kup Griye, Trüf, Cassata",
    storyPointThree: "Gün boyu deneyim: kahve, tatlı, butik çikolata",
    reviewKicker: "SOSYAL KANIT",
    reviewTitle: "Misafirler Neden Baylan'ı Seçiyor?",
    reviewOne:
      "Kup Griye için tekrar gelinir. Tatlılar çok çeşitli ve fiyat-performans dengesi güçlü.",
    reviewTwo:
      "Kadıköy'de ikonik bir adres. Baylan imza tatlıları gerçekten farklı bir deneyim sunuyor.",
    reviewThree: "Tatlı kültürü seven herkes için kesinlikle denenmesi gereken bir klasik.",
    galleryKicker: "GALERİ",
    galleryTitle: "Lezzet Vitrininden Kareler",
    contactKicker: "REZERVASYON & İLETİŞİM",
    contactTitle: "Hızlı Dönüşüm İçin Net Çağrı",
    contactLead:
      "Arayın, yol tarifi alın veya form bırakın. Form entegrasyonu şu an placeholder; backend bağlandığında doğrudan CRM veya WhatsApp API'ye düşebilir.",
    cardAddressTitle: "Adres",
    cardPhoneTitle: "Telefon",
    cardHoursTitle: "Saatler",
    hoursValue: "Her gün açık · 23:00'te kapanış",
    formTitle: "Yer Ayırt",
    formNameLabel: "Ad Soyad",
    formNamePlaceholder: "Adınızı girin",
    formPhoneLabel: "Telefon",
    formPhonePlaceholder: "05xx xxx xx xx",
    formGuestsLabel: "Kişi Sayısı",
    formNoteLabel: "Not",
    formNotePlaceholder: "Özel isteklerinizi yazın",
    formSubmit: "Talep Gönder",
    formNote: "Demo form: backend entegrasyonu yapıldığında e-posta/CRM/WhatsApp akışına bağlanır.",
    formDemoAlert: "Form kaydı demo modda. Backend bağlandığında talepler otomatik işlenecek.",
    footerText: "Baylan İstanbul 1923 · Kadıköy'de imza tatlı deneyimi",
    footerCta: "Hemen Ara"
  },
  en: {
    brandSubline: "Istanbul 1923",
    navHome: "Home",
    navMenu: "Signature Menu",
    navStory: "Story",
    navReviews: "Reviews",
    navContact: "Contact",
    ctaCall: "Call Now",
    languageTitle: "LANGUAGE",
    heroKicker: "KADIKOY, ISTANBUL",
    heroTitle: "103 Years Of Heritage, Iconic Desserts For Today",
    heroLead:
      "Baylan blends classic patisserie culture with modern presentation. From Kup Griye to artisan chocolate, every bite carries craft and history.",
    chipRating: "4.2 rating · 4,450+ reviews",
    chipSince: "Serving Istanbul since 1923",
    chipService: "Takeaway + in-store experience",
    ctaMenu: "Explore Signature Desserts",
    ctaDirections: "Directions & Contact",
    statOne: "Founded",
    statTwo: "Google Score",
    statThree: "Closing Time",
    heroImageLabel: "Signature Dessert",
    menuKicker: "TOP PICKS",
    menuTitle: "Baylan Signature Selection",
    menuLead: "Built for conversion: the most ordered products are highlighted first.",
    itemOneDesc: "Baylan classic with caramel, ice cream, brittle and cream.",
    itemTwoName: "Truffle Cake",
    itemTwoDesc: "Intense chocolate layers balanced with smooth cream.",
    itemThreeDesc: "Nostalgic multi-layer flavor with fruits and pistachio.",
    itemFourDesc: "Freshly made colorful macarons with premium fillings.",
    storyKicker: "BRAND STORY",
    storyTitle: "Kadikoy's Timeless Patisserie",
    storyLead:
      "Baylan is one of Istanbul's strongest culinary symbols, merging old-school pastry identity with modern dessert culture.",
    storyPointOne: "Historic identity: signed Istanbul 1923",
    storyPointTwo: "Signature recipes: Kup Griye, Truffle, Cassata",
    storyPointThree: "All-day experience: coffee, desserts, boutique chocolate",
    reviewKicker: "SOCIAL PROOF",
    reviewTitle: "Why Guests Choose Baylan",
    reviewOne:
      "Worth coming back for Kup Griye alone. Wide dessert variety and strong value.",
    reviewTwo: "An iconic Kadikoy spot. Signature desserts feel truly unique.",
    reviewThree: "A must-visit classic for anyone serious about dessert culture.",
    galleryKicker: "GALLERY",
    galleryTitle: "Moments From The Dessert Showcase",
    contactKicker: "BOOKING & CONTACT",
    contactTitle: "Clear Call-To-Action For Fast Conversion",
    contactLead:
      "Call, get directions or leave your request. The form is placeholder-ready and can be connected to CRM or WhatsApp API backend.",
    cardAddressTitle: "Address",
    cardPhoneTitle: "Phone",
    cardHoursTitle: "Hours",
    hoursValue: "Open daily · Closes at 11 PM",
    formTitle: "Reserve A Table",
    formNameLabel: "Full Name",
    formNamePlaceholder: "Enter your name",
    formPhoneLabel: "Phone",
    formPhonePlaceholder: "+90 xxx xxx xx xx",
    formGuestsLabel: "Guests",
    formNoteLabel: "Note",
    formNotePlaceholder: "Write your special request",
    formSubmit: "Send Request",
    formNote: "Demo form: once backend is connected, requests can flow to email/CRM/WhatsApp.",
    formDemoAlert: "Demo mode: request stored locally. Connect backend to activate automation.",
    footerText: "Baylan Istanbul 1923 · Signature dessert destination in Kadikoy",
    footerCta: "Call Now"
  },
  ar: {
    brandSubline: "إسطنبول 1923",
    navHome: "الرئيسية",
    navMenu: "المنتجات المميزة",
    navStory: "القصة",
    navReviews: "التقييمات",
    navContact: "التواصل",
    ctaCall: "اتصل الآن",
    languageTitle: "اللغة",
    heroKicker: "كاديكوي، إسطنبول",
    heroTitle: "تراث بطول 103 سنوات مع أشهر الحلويات اليوم",
    heroLead:
      "تجمع بايلان بين روح الباتيسري الكلاسيكي والتقديم العصري. من كوب غرييه إلى الشوكولاتة الحرفية، كل لقمة تحمل تاريخًا وجودة.",
    chipRating: "تقييم 4.2 · أكثر من 4450 مراجعة",
    chipSince: "في إسطنبول منذ 1923",
    chipService: "سفري + تجربة داخل المتجر",
    ctaMenu: "اكتشف الحلويات المميزة",
    ctaDirections: "الاتجاهات والتواصل",
    statOne: "سنة التأسيس",
    statTwo: "تقييم جوجل",
    statThree: "وقت الإغلاق",
    heroImageLabel: "حلوى مميزة",
    menuKicker: "الأكثر طلبًا",
    menuTitle: "اختيارات بايلان المميزة",
    menuLead: "لرفع التحويل: أبرز المنتجات الأكثر طلبًا أولًا.",
    itemOneDesc: "كلاسيكية بايلان بالكراميل والآيس كريم والكريمة.",
    itemTwoName: "كيكة الترافل",
    itemTwoDesc: "طبقات شوكولاتة غنية مع توازن كريمي ناعم.",
    itemThreeDesc: "نكهة كلاسيكية متعددة الطبقات بالفواكه والفستق.",
    itemFourDesc: "ماكارون طازج يوميًا بحشوات فاخرة ملونة.",
    storyKicker: "قصة العلامة",
    storyTitle: "باتيسري كاديكوي الخالد",
    storyLead:
      "بايلان من أهم رموز المطبخ في إسطنبول، حيث تلتقي الهوية التاريخية مع ثقافة الحلويات الحديثة.",
    storyPointOne: "هوية تاريخية: توقيع إسطنبول 1923",
    storyPointTwo: "وصفات مميزة: كوب غرييه، ترافل، كاساتا",
    storyPointThree: "تجربة طوال اليوم: قهوة، حلويات، شوكولاتة بوتيك",
    reviewKicker: "الثقة الاجتماعية",
    reviewTitle: "لماذا يختار الضيوف بايلان؟",
    reviewOne: "يستحق الزيارة مرارًا من أجل كوب غرييه وحده.",
    reviewTwo: "عنوان أيقوني في كاديكوي وتجربة مختلفة فعلًا.",
    reviewThree: "محطة أساسية لعشاق ثقافة الحلويات.",
    galleryKicker: "المعرض",
    galleryTitle: "لقطات من واجهة الحلويات",
    contactKicker: "الحجز والتواصل",
    contactTitle: "دعوة واضحة للتحويل السريع",
    contactLead:
      "اتصل، احصل على الاتجاهات أو اترك طلبك. النموذج تجريبي ويمكن ربطه لاحقًا مع CRM أو WhatsApp API.",
    cardAddressTitle: "العنوان",
    cardPhoneTitle: "الهاتف",
    cardHoursTitle: "الساعات",
    hoursValue: "مفتوح يوميًا · الإغلاق 11 مساءً",
    formTitle: "احجز طاولة",
    formNameLabel: "الاسم الكامل",
    formNamePlaceholder: "اكتب اسمك",
    formPhoneLabel: "رقم الهاتف",
    formPhonePlaceholder: "+90 xxx xxx xx xx",
    formGuestsLabel: "عدد الأشخاص",
    formNoteLabel: "ملاحظة",
    formNotePlaceholder: "اكتب طلبك الخاص",
    formSubmit: "إرسال الطلب",
    formNote: "نموذج تجريبي: عند ربط الخلفية يمكن إرسال الطلبات إلى البريد/CRM/واتساب.",
    formDemoAlert: "وضع تجريبي: تم حفظ الطلب محليًا. اربط الخلفية للتشغيل الفعلي.",
    footerText: "بايلان إسطنبول 1923 · وجهة الحلويات المميزة في كاديكوي",
    footerCta: "اتصل الآن"
  }
};

const menuToggle = document.getElementById("menuToggle");
const menuClose = document.getElementById("menuClose");
const mobileMenu = document.getElementById("mobileMenu");
const reservationForm = document.getElementById("reservationForm");
const langButtons = document.querySelectorAll(".lang-btn");

let currentLang = "tr";

function applyTranslations(lang) {
  const bundle = translations[lang] || translations.tr;

  document.querySelectorAll("[data-i18n]").forEach((node) => {
    const key = node.dataset.i18n;
    if (bundle[key]) {
      node.textContent = bundle[key];
    }
  });

  document.querySelectorAll("[data-i18n-placeholder]").forEach((node) => {
    const key = node.dataset.i18nPlaceholder;
    if (bundle[key]) {
      node.setAttribute("placeholder", bundle[key]);
    }
  });

  document.documentElement.lang = lang;
  document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";

  langButtons.forEach((btn) => {
    const isActive = btn.dataset.lang === lang;
    btn.classList.toggle("active", isActive);
    btn.setAttribute("aria-selected", isActive ? "true" : "false");
  });

  localStorage.setItem("baylan-language", lang);
  currentLang = lang;
}

function openMenu() {
  mobileMenu.classList.add("open");
  mobileMenu.setAttribute("aria-hidden", "false");
  document.body.style.overflow = "hidden";
}

function closeMenu() {
  mobileMenu.classList.remove("open");
  mobileMenu.setAttribute("aria-hidden", "true");
  document.body.style.overflow = "";
}

menuToggle?.addEventListener("click", openMenu);
menuClose?.addEventListener("click", closeMenu);

mobileMenu?.addEventListener("click", (event) => {
  if (event.target === mobileMenu) {
    closeMenu();
  }
});

document.addEventListener("keydown", (event) => {
  if (event.key === "Escape") {
    closeMenu();
  }
});

document.querySelectorAll(".mobile-nav a").forEach((link) => {
  link.addEventListener("click", closeMenu);
});

langButtons.forEach((btn) => {
  btn.addEventListener("click", () => {
    applyTranslations(btn.dataset.lang || "tr");
  });
});

reservationForm?.addEventListener("submit", (event) => {
  event.preventDefault();
  window.alert(translations[currentLang].formDemoAlert);
  reservationForm.reset();
});

const revealObserver = new IntersectionObserver(
  (entries, observer) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("in-view");
        observer.unobserve(entry.target);
      }
    });
  },
  { threshold: 0.14 }
);

document.querySelectorAll(".reveal").forEach((section) => {
  revealObserver.observe(section);
});

const savedLang = localStorage.getItem("baylan-language");
applyTranslations(savedLang && translations[savedLang] ? savedLang : "tr");
